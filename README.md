# Feodal City 2 / Serfs Realm

Игра в стиле Serf City, созданная с использованием Phaser 3 и TypeScript.

## Структура проекта

```
src/
├── main.ts                    # Точка входа, инициализация Phaser
├── config/
│   ├── gameConfig.ts          # Конфигурация Phaser игры
│   └── constants.ts           # Константы игры (размеры, цвета, настройки)
│
├── scenes/
│   └── GameScene.ts           # Основная игровая сцена
│
├── game/
│   ├── Map/
│   │   ├── MapManager.ts      # Управление картой
│   │   ├── Tile.ts            # Класс тайла
│   │   ├── TileType.ts        # Утилиты для типов тайлов
│   │   └── MapGenerator.ts    # Генерация карты
│   │
│   ├── Buildings/
│   │   ├── Building.ts        # Класс здания
│   │   ├── BuildingType.ts    # Типы зданий и их конфигурации
│   │   └── BuildingManager.ts # Управление зданиями
│   │
│   ├── Resources/
│   │   ├── ResourceType.ts    # Типы ресурсов
│   │   └── ResourceManager.ts # Управление ресурсами
│   │
│   ├── Units/                 # (Будет добавлено позже)
│   └── Economy/               # (Будет добавлено позже)
│
├── utils/
│   ├── IsoUtils.ts            # Изометрические преобразования
│   ├── MathUtils.ts           # Математические утилиты
│   └── EventBus.ts            # Система событий
│
├── ui/
│   └── UIManager.ts           # Управление UI элементами
│
└── types/
    └── index.ts               # TypeScript типы и интерфейсы
```

## Основные компоненты

### Map (Карта)
- **MapManager** - управляет всеми тайлами на карте
- **Tile** - представляет один тайл с координатами и типом
- **MapGenerator** - генерирует карту с различными типами тайлов

### Resources (Ресурсы)
- **ResourceManager** - управляет ресурсами игрока (дерево, камень, еда, золото)
- Использует систему событий для обновления UI

### Buildings (Здания)
- **BuildingManager** - управляет постройкой и размещением зданий
- **BuildingType** - содержит конфигурации всех типов зданий

### UI
- **UIManager** - управляет всеми элементами интерфейса
- Отображает ресурсы, меню строительства и другую информацию

## Управление

- **Стрелки** - перемещение камеры
- **ЛКМ + перетаскивание** - панорамирование карты
- **Колесико мыши** - зум карты

## Установка и запуск

```bash
# Установка зависимостей
npm install

# Запуск dev сервера
npm run dev

# Сборка для продакшена
npm run build
```

## Технологии

- **Phaser 3** - игровой движок
- **TypeScript** - типизированный JavaScript
- **Vite** - сборщик и dev сервер

## Планы развития

- [ ] Система юнитов (серфы)
- [ ] Экономическая система
- [ ] Производство ресурсов
- [ ] Более детальная графика
- [ ] Система задач для юнитов
- [ ] Сохранение/загрузка игры

